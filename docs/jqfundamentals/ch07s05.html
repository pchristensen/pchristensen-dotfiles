<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns:xslthl="http://xslthl.sf.net"><head xmlns="http://www.w3.org/1999/xhtml"><title>Working with JSONP</title><link href="blueprint.css" rel="stylesheet" type="text/css" /><link href="style.css" rel="stylesheet" type="text/css" /><meta content="DocBook XSL Stylesheets V1.75.2" name="generator" /><link rel="home" href="index.html" title="jQuery Fundamentals" /><link rel="up" href="ch07.html" title="Chapter 7. Ajax" /><link rel="prev" href="ch07s04.html" title="Ajax and Forms" /><link rel="next" href="ch07s06.html" title="Ajax Events" /></head><body><div class="container"><div class="span-18 push-3"><div xmlns="http://www.w3.org/1999/xhtml" class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Working with JSONP</th></tr><tr><td align="left"><a accesskey="p" href="ch07s04.html">Prev</a> </td><th align="center" width="60%">Chapter 7. Ajax</th><td align="right"> <a accesskey="n" href="ch07s06.html">Next</a></td></tr></table><hr /></div><div xmlns="http://www.w3.org/1999/xhtml" class="section" title="Working with JSONP"><div class="titlepage"><div><div><h2 class="title"><a xmlns:saxon="http://icl.com/saxon" id="N2147E" />Working with JSONP</h2></div></div></div>
    

    <p>The advent of JSONP -- essentially a consensual cross-site scripting
    hack -- has opened the door to powerful mashups of content. Many prominent
    sites provide JSONP services, allowing you access to their content via a
    predefined API. A particularly great source of JSONP-formatted data is the
    <a class="ulink" href="http://developer.yahoo.com/yql/console/">Yahoo! Query
    Language</a>, which we'll use in the following example to fetch news
    about cats.</p>

    <div class="example"><a xmlns:saxon="http://icl.com/saxon" id="N2148A" /><p class="title"><b>Example 7.7. Using YQL and JSONP</b></p><div class="example-contents">
      

      <pre class="programlisting">$.ajax({
    url : 'http://query.yahooapis.com/v1/public/yql',

    // the name of the callback parameter,
    // as specified by the YQL service
    jsonp : 'callback',

    // tell jQuery we're expecting JSONP
    dataType : 'jsonp',

    // tell YQL what we want and that we want JSON
    data : {
        q : 'select title,abstract,url from search.news where query="cat"',
        format : 'json'
    },

    // work with the response
    success : function(response) {
        console.log(response);
    }
});</pre>
    </div></div><br class="example-break" />

    <p>jQuery handles all the complex aspects of JSONP behind-the-scenes --
    all we have to do is tell jQuery the name of the JSONP callback parameter
    specified by YQL ("callback" in this case), and otherwise the whole
    process looks and feels like a normal Ajax request.</p>
  </div><hr /><p class="copyright">Copyright <a href="http://www.rebeccamurphey.com">
    Rebecca Murphey</a>, released under the 
  <a href="http://creativecommons.org/licenses/by-sa/3.0/us/">
	Creative Commons Attribution-Share Alike 3.0 United States license</a>.
  </p><script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-143877-9']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><div xmlns="http://www.w3.org/1999/xhtml" class="navfooter"><hr /><table summary="Navigation footer" width="100%"><tr><td align="left"><a accesskey="p" href="ch07s04.html">Prev</a> </td><td align="center"><a accesskey="u" href="ch07.html">Up</a></td><td align="right"> <a accesskey="n" href="ch07s06.html">Next</a></td></tr><tr><td valign="top" align="left">Ajax and Forms </td><td align="center"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right"> Ajax Events</td></tr></table></div></div></div></body></html>